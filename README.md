#### Импортер статей в Confluence

Этот проект является логичным продолжением https://github.com/Djura008/TeamlyParser
Он загружает ранее спарсенные статьи из Teamly в ваше пространство Confluence, сохраняя структуру документации.

###### Инструкции по запуску

1. Установить зависимости:
	- Компилятор Kotlin (kotlinc) и Gradle (рекомендуется установка через SDKMAN!)
	- pandoc — используется для конвертации .docx в HTML. Убедитесь, что он установлен в той же среде, где запускается код

2. Создайте файл .env в корне проекта и укажите (см. пример в .env.example):
	- логин и пароль от Confluence
	- базовый URL вашего пространства Confluence

3. В файле Main.kt укажите:
	- ключ пространства на 25 строке (из URL Confluence)
	- ID корневой статьи (опционально, также берется из URL). Рекомендуется создать такую статью заранее — это обеспечит правильную иерархию.

4. Убедитесь, что в корне проекта есть папка Data, и поместите в неё все .docx-файлы, полученные из TeamlyParser

5. Запустите проект командой:
```
./gradlew run
```

###### Особенности

- В Confluence нельзя иметь несколько статей с одинаковыми названиями. При обнаружении дубликатов в папке Data к названиям будет автоматически добавлена нумерация: Пример, Пример 1, Пример 2 и т. д.
- Все действия логируются в application.log, включая соответствие старых и новых названий.
- В отличие от ручного импорта .docx через интерфейс Confluence, при загрузке через этот скрипт не будут работать якоря навигации внутри статьи. Это связано с отсутствием публичного API для полноценного импорта .docx с серверной обработкой.

###### Требуемая структура папки Data

Если вы использовали TeamlyParser, структура создается автоматически.
Если вы готовите файлы вручную, они должны иметь древовидную структуру, где папки представляют разделы, а .docx — статьи:

Data/

├── Статья 1.docx

├── Статья 1/

│   ├── Статья 1.1.docx

│   ├── Статья 1.2.docx

│   └── Статья 1.3/

│       ├── Статья 1.3.1.docx

│       └── Статья 1.3.2.docx

├── Статья 2.docx

├── Статья 2/

│   └── Статья 2.1.docx

└── Статья 3/

Каталоги в этой структуре не содержат расширения .docx — это просто папки.
